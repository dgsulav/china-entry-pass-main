{"version":3,"file":"static/js/7476.9a49c629.chunk.js","mappings":"8NAuFA,EArFuB,SAAC,GAKjB,IAJLA,EAII,EAJJA,YACAC,EAGI,EAHJA,MACAC,EAEI,EAFJA,mBACAC,EACI,EADJA,sBAEMC,EAAe,SAACC,GAKpB,GAAwC,KAJV,OAAGH,QAAH,IAAGA,OAAH,EAAGA,EAAoBI,QACnD,SAACC,GAAD,OAAWA,EAAMC,KAAOH,EAAWG,OAGRC,OAC3BN,EAAsB,GAAD,eAAKD,GAAL,CAAyBG,SACzC,CACL,IAAMK,EAAmB,OAAGR,QAAH,IAAGA,OAAH,EAAGA,EAAoBI,QAC9C,SAACC,GAAD,OAAWA,EAAMC,KAAOH,EAAWG,MAErCL,EAAsBO,KAU1B,OACE,gBAAKC,UAAU,qBAAf,UACE,iBAAKA,UAAU,kBAAf,WACE,gBAAKA,UAAU,sBAAf,UACE,iBAAKA,UAAU,MAAf,WACE,gBAAKA,UAAU,aAAf,UACE,kBACEC,KAAK,WACLC,KAAMZ,EACNa,QACEZ,EAAmBO,UAAnB,OAA8BT,QAA9B,IAA8BA,OAA9B,EAA8BA,EAAaS,SACpB,IAAvBT,EAAYS,OAEdM,SAAU,kBApBA,SAACf,GACnBA,EAAYS,UAAZ,OAAuBP,QAAvB,IAAuBA,OAAvB,EAAuBA,EAAoBO,QAC7CN,EAAsBH,GAEtBG,EAAsB,IAgBIa,CAAgBhB,IAChCiB,SAAiC,IAAvBjB,EAAYS,YAG1B,iBAAKE,UAAU,cAAf,WACE,eAAIA,UAAU,MAAd,SAAqBV,KACrB,cAAGU,UAAU,MAAb,mBACMT,EAAmBO,OADzB,YACmCT,EAAYS,OAD/C,wBAMN,gBAAKE,UAAU,wBAAf,UACE,gBAAKA,UAAU,kBAAf,UACE,eAAIA,UAAU,kBAAkBO,MAAO,CAAEC,cAAe,QAAxD,SACGnB,EAAYS,OAAS,GACpBT,EAAYoB,KAAI,SAACf,GACf,OACE,eACEM,UAAU,wBACVU,QAAS,kBAAMjB,EAAaC,IAF9B,UAKE,iBAAKM,UAAU,wBAAf,WACE,gBAAKA,UAAU,aAAf,UACE,kBACEC,KAAK,WACLC,KAAMR,EAAWQ,KACjBC,QAASZ,EAAmBoB,SAASjB,GACrCU,SAAU,kBAAMX,EAAaC,SAGjC,gBAAKM,UAAU,cAAf,SAA8BN,EAAWQ,WAXtCR,EAAWG,mB,sBCqJtC,EAzMmB,SAAC,GAOb,IANLe,EAMI,EANJA,oBACAC,EAKI,EALJA,uBACAC,EAII,EAJJA,gBACAC,EAGI,EAHJA,mBACAC,EAEI,EAFJA,KACAC,EACI,EADJA,KAEMC,GAAWC,EAAAA,EAAAA,MACX9B,GAAc+B,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAML,KAAK3B,eAEtD,GAA0DiC,EAAAA,EAAAA,UAAS,IAAnE,eAAOC,EAAP,KAA8BC,EAA9B,KACA,GAAoEF,EAAAA,EAAAA,UAClE,IADF,eAAOG,EAAP,KAAmCC,EAAnC,KAGA,GACEJ,EAAAA,EAAAA,UAAS,IADX,eAAOK,EAAP,KAAqCC,EAArC,MAGAC,EAAAA,EAAAA,YAAU,WACRX,GAASY,EAAAA,EAAAA,SACR,CAACZ,KAEJW,EAAAA,EAAAA,YAAU,WACR,GAAIZ,GACF,IAAQ,OAAJD,QAAI,IAAJA,OAAA,EAAAA,EAAM3B,YAAYS,QAAS,GAAoC,IAA/Bc,EAAoBd,OAEtD,GAAIgB,EAAgBhB,OAAS,EAAG,CAC9B,IAAMiC,EAAqBjB,EAAgBL,KAAI,SAACb,GAAD,OAAWA,EAAMC,MAC1DmC,EAAqBhB,EAAK3B,YAAYM,QAC1C,SAACC,GAAD,OAAYmC,EAAmBpB,SAASf,MAEpCqC,EAAe5C,EAAYM,QAC/B,SAACC,GAAD,OAAYoC,EAAmBrB,SAASf,EAAMC,OAE1CqC,EAAa7C,EAAYM,QAAO,SAACC,GAAD,OACpCoC,EAAmBrB,SAASf,EAAMC,OAGpC2B,EAAyBS,GACzBpB,EAAuBqB,OAClB,CACL,IAAMD,EAAY,OAAG5C,QAAH,IAAGA,OAAH,EAAGA,EAAaM,QAChC,SAACC,GAAD,QAAW,OAACoB,QAAD,IAACA,GAAAA,EAAM3B,YAAYsB,SAASf,EAAMC,QAGzCqC,EAAa7C,EAAYM,QAAO,SAACC,GAAD,cACpCoB,QADoC,IACpCA,OADoC,EACpCA,EAAM3B,YAAYsB,SAASf,EAAMC,OAGnC2B,EAAyBS,GACzBpB,EAAuBqB,QAEpB,IACD,OAAJlB,QAAI,IAAJA,OAAA,EAAAA,EAAM3B,YAAYS,QAAS,GAC3Bc,EAAoBd,OAAS,EAC7B,CACA,IAAMmC,EAAe5C,EAAYM,QAC/B,SAACC,GAAD,OAAYgB,EAAoBuB,MAAK,gBAAGtC,EAAH,EAAGA,GAAH,OAAYD,EAAMC,KAAOA,QAEhE2B,EAAyBS,QAEzB,GAAI5C,EAAYS,OAAS,EACvB,GAAIc,EAAoBd,OAAS,EAAG,CAClC,IAAMmC,EAAe5C,EAAYM,QAC/B,SAACC,GAAD,OAAYgB,EAAoBuB,MAAK,gBAAGtC,EAAH,EAAGA,GAAH,OAAYD,EAAMC,KAAOA,QAEhE2B,EAAyBS,QAEzBT,EAAyBnC,QAK/B,GAAIA,EAAYS,OAAS,EACvB,GAAIc,EAAoBd,OAAS,EAAG,CAClC,IAAMmC,EAAe5C,EAAYM,QAC/B,SAACC,GAAD,OAAYgB,EAAoBuB,MAAK,gBAAGtC,EAAH,EAAGA,GAAH,OAAYD,EAAMC,KAAOA,QAEhE2B,EAAyBS,QAEzBT,EAAyBnC,KAI9B,CAACA,EAAa4B,IAwEjB,OACE,iBAAKjB,UAAU,2BAAf,WACE,gBAAKA,UAAU,yBAAf,UACE,mDAEF,SAAC,EAAD,CACEX,YAAakC,EACbjC,MAAM,yBACNC,mBAAoBoC,EACpBnC,sBAAuBoC,KAEzB,gBAAK5B,UAAU,gEAAf,UACE,iBAAKA,UAAU,eAAf,WACE,0BACE,mBACEC,KAAK,SACLD,UAAU,aACVU,QAvFmB,WAC7B,GACEiB,EAA6B7B,OAAS,GACA,IAAtC2B,EAA2B3B,OAC3B,CACA,IAAMsC,EAAgCb,EAAsB5B,QAC1D,SAACC,GAAD,OACG+B,EAA6BQ,MAAK,gBAAGtC,EAAH,EAAGA,GAAH,OAAYD,EAAMC,KAAOA,QAEhEgB,EAAuB,GAAD,eACjBD,IADiB,OAEjBe,KAELH,EAAyBY,GACzBR,EAAgC,SAGU,IAAxCD,EAA6B7B,QACS,IAAtC2B,EAA2B3B,QAE3BuC,EAAAA,EAAAA,IAAc,yDAEdA,EAAAA,EAAAA,IACE,gGAiEI/B,SAA2C,IAAjCiB,EAAsBzB,OAJlC,UAME,SAAC,MAAD,SAGJ,0BACE,mBACEG,KAAK,SACLD,UAAU,mBACVU,QArEqB,WAC/B,GACEe,EAA2B3B,OAAS,GACI,IAAxC6B,EAA6B7B,OAK7B,GAHuBT,EAAYM,QAAO,SAACC,GAAD,OACxC6B,EAA2BU,MAAK,gBAAGtC,EAAH,EAAGA,GAAH,OAAYD,EAAMC,KAAOA,QAExCC,SAAW2B,EAA2B3B,OAAQ,CAC/D,IAAMwC,EAA8B1B,EAAoBjB,QACtD,SAACC,GAAD,OACG6B,EAA2BU,MAAK,gBAAGtC,EAAH,EAAGA,GAAH,OAAYD,EAAMC,KAAOA,QAG9D2B,EAAyB,GAAD,eACnBD,IADmB,OAEnBE,KAELZ,EAAuByB,GACnBrB,GACFF,EAAmBU,GAErBC,EAA8B,SAE9BW,EAAAA,EAAAA,IACE,qHAKsC,IAAxCV,EAA6B7B,QACS,IAAtC2B,EAA2B3B,QAE3BuC,EAAAA,EAAAA,IAAc,uDAEdA,EAAAA,EAAAA,IACE,kGAkCI/B,SAAyC,IAA/BM,EAAoBd,OAJhC,UAME,SAAC,MAAD,cAKR,SAAC,EAAD,CACET,YAAauB,EACbtB,MAAM,uBACNC,mBAAoBkC,EACpBjC,sBAAuBkC","sources":["Pages/Role/PermissionList.js","Pages/Role/Permission.js"],"sourcesContent":["import React from \"react\";\n\nconst PermissionList = ({\n  permissions,\n  title,\n  checkedPermissions,\n  setCheckedPermissions,\n}) => {\n  const handleChange = (permission) => {\n    const alreadyCheckedPermission = checkedPermissions?.filter(\n      (permi) => permi.id === permission.id\n    );\n\n    if (alreadyCheckedPermission.length === 0) {\n      setCheckedPermissions([...checkedPermissions, permission]);\n    } else {\n      const filteredPermissions = checkedPermissions?.filter(\n        (permi) => permi.id !== permission.id\n      );\n      setCheckedPermissions(filteredPermissions);\n    }\n  };\n  const handleToggleAll = (permissions) => {\n    if (permissions.length !== checkedPermissions?.length) {\n      setCheckedPermissions(permissions);\n    } else {\n      setCheckedPermissions([]);\n    }\n  };\n  return (\n    <div className=\"col-sm-5 mt-2 mb-2\">\n      <div className=\"card-permission\">\n        <div className=\"header-content mb-0\">\n          <div className=\"row\">\n            <div className=\"col-1 px-1\">\n              <input\n                type=\"checkbox\"\n                name={title}\n                checked={\n                  checkedPermissions.length === permissions?.length &&\n                  permissions.length !== 0\n                }\n                onChange={() => handleToggleAll(permissions)}\n                disabled={permissions.length === 0}\n              />\n            </div>\n            <div className=\"col-11 px-0\">\n              <h4 className=\"m-0\">{title}</h4>\n              <p className=\"m-0\">\n                {`${checkedPermissions.length}/${permissions.length} selected`}\n              </p>\n            </div>\n          </div>\n        </div>\n        <div className=\"card-body p-0 d-block\">\n          <div className=\"permission-list\">\n            <ul className=\"list-permission\" style={{ listStyleType: \"none\" }}>\n              {permissions.length > 0 &&\n                permissions.map((permission) => {\n                  return (\n                    <li\n                      className=\"list-group-permission\"\n                      onClick={() => handleChange(permission)}\n                      key={permission.id}\n                    >\n                      <div className=\"row align-text-center\">\n                        <div className=\"col-1 px-1\">\n                          <input\n                            type=\"checkbox\"\n                            name={permission.name}\n                            checked={checkedPermissions.includes(permission)}\n                            onChange={() => handleChange(permission)}\n                          />\n                        </div>\n                        <div className=\"col-11 px-0\">{permission.name}</div>\n                      </div>\n                    </li>\n                  );\n                })}\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PermissionList;\n","import \"./style.css\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { FaArrowLeft, FaArrowRight } from \"react-icons/fa\";\n\nimport PermissionList from \"./PermissionList\";\n// import { getAllPermission, getSpecificUserPermissions } from \"../Redux/thunk\";\n\nimport { errorFunction } from \"../../Component/Alert\";\nimport { getAllPermission } from \"../../Redux/Role/thunk\";\n\nconst Permission = ({\n  selectedPermissions,\n  setSelectedPermissions,\n  holdPermissions,\n  setHoldPermissions,\n  role,\n  edit,\n}) => {\n  const dispatch = useDispatch();\n  const permissions = useSelector((state) => state.role.permissions);\n\n  const [unSelectedPermissions, setUnSelectedPermissions] = useState([]);\n  const [selectedCheckedPermissions, setSelectedCheckedPermissions] = useState(\n    []\n  );\n  const [unSelectedCheckedPermissions, setUnSelectedCheckedPermissions] =\n    useState([]);\n\n  useEffect(() => {\n    dispatch(getAllPermission());\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (edit) {\n      if (role?.permissions.length > 0 && selectedPermissions.length === 0) {\n        // used while edit the permission\n        if (holdPermissions.length > 0) {\n          const idOfHoldPermission = holdPermissions.map((permi) => permi.id);\n          const filteredPermission = role.permissions.filter(\n            (permi) => !idOfHoldPermission.includes(permi)\n          );\n          const filteredData = permissions.filter(\n            (permi) => !filteredPermission.includes(permi.id)\n          );\n          const commonData = permissions.filter((permi) =>\n            filteredPermission.includes(permi.id)\n          );\n\n          setUnSelectedPermissions(filteredData);\n          setSelectedPermissions(commonData);\n        } else {\n          const filteredData = permissions?.filter(\n            (permi) => !role?.permissions.includes(permi.id)\n          );\n\n          const commonData = permissions.filter((permi) =>\n            role?.permissions.includes(permi.id)\n          );\n\n          setUnSelectedPermissions(filteredData);\n          setSelectedPermissions(commonData);\n        }\n      } else if (\n        role?.permissions.length > 0 &&\n        selectedPermissions.length > 0\n      ) {\n        const filteredData = permissions.filter(\n          (permi) => !selectedPermissions.find(({ id }) => permi.id === id)\n        );\n        setUnSelectedPermissions(filteredData);\n      } else {\n        if (permissions.length > 0) {\n          if (selectedPermissions.length > 0) {\n            const filteredData = permissions.filter(\n              (permi) => !selectedPermissions.find(({ id }) => permi.id === id)\n            );\n            setUnSelectedPermissions(filteredData);\n          } else {\n            setUnSelectedPermissions(permissions);\n          }\n        }\n      }\n    } else {\n      if (permissions.length > 0) {\n        if (selectedPermissions.length > 0) {\n          const filteredData = permissions.filter(\n            (permi) => !selectedPermissions.find(({ id }) => permi.id === id)\n          );\n          setUnSelectedPermissions(filteredData);\n        } else {\n          setUnSelectedPermissions(permissions);\n        }\n      }\n    }\n  }, [permissions, edit]);\n\n  const handleSelectPermission = () => {\n    if (\n      unSelectedCheckedPermissions.length > 0 &&\n      selectedCheckedPermissions.length === 0\n    ) {\n      const filteredUnSelectedPermissions = unSelectedPermissions.filter(\n        (permi) =>\n          !unSelectedCheckedPermissions.find(({ id }) => permi.id === id)\n      );\n      setSelectedPermissions([\n        ...selectedPermissions,\n        ...unSelectedCheckedPermissions,\n      ]);\n      setUnSelectedPermissions(filteredUnSelectedPermissions);\n      setUnSelectedCheckedPermissions([]);\n    } else {\n      if (\n        unSelectedCheckedPermissions.length === 0 &&\n        selectedCheckedPermissions.length === 0\n      ) {\n        errorFunction(\"Please select permission from unselected permissions\");\n      } else {\n        errorFunction(\n          \"Yo have checked some permission from selected permissions.Please uncheck them and try again\"\n        );\n      }\n    }\n  };\n  const handleUnSelectPermission = () => {\n    if (\n      selectedCheckedPermissions.length > 0 &&\n      unSelectedCheckedPermissions.length === 0\n    ) {\n      const belongingCheck = permissions.filter((permi) =>\n        selectedCheckedPermissions.find(({ id }) => permi.id === id)\n      );\n      if (belongingCheck.length === selectedCheckedPermissions.length) {\n        const filteredSelectedPermissions = selectedPermissions.filter(\n          (permi) =>\n            !selectedCheckedPermissions.find(({ id }) => permi.id === id)\n        );\n\n        setUnSelectedPermissions([\n          ...unSelectedPermissions,\n          ...selectedCheckedPermissions,\n        ]);\n        setSelectedPermissions(filteredSelectedPermissions);\n        if (edit) {\n          setHoldPermissions(selectedCheckedPermissions);\n        }\n        setSelectedCheckedPermissions([]);\n      } else {\n        errorFunction(\n          \"You are trying to remove permission of another module.Please check the module and remove related permissions\"\n        );\n      }\n    } else {\n      if (\n        unSelectedCheckedPermissions.length === 0 &&\n        selectedCheckedPermissions.length === 0\n      ) {\n        errorFunction(\"Please select permission from selected permissions\");\n      } else {\n        errorFunction(\n          \"Yo have checked some permission from unselected permissions.Please uncheck them and try again\"\n        );\n      }\n    }\n  };\n\n  return (\n    <div className=\"row permission-container\">\n      <div className=\"col-12 title-container\">\n        <h5>Add User Permission</h5>\n      </div>\n      <PermissionList\n        permissions={unSelectedPermissions}\n        title=\"UnSelected Permissions\"\n        checkedPermissions={unSelectedCheckedPermissions}\n        setCheckedPermissions={setUnSelectedCheckedPermissions}\n      />\n      <div className=\"col-sm-2 d-flex p-0 align-items-center justify-content-center\">\n        <div className=\"align-middle\">\n          <div>\n            <button\n              type=\"button\"\n              className=\"btn btn-sm\"\n              onClick={handleSelectPermission}\n              disabled={unSelectedPermissions.length === 0}\n            >\n              <FaArrowRight />\n            </button>\n          </div>\n          <div>\n            <button\n              type=\"button\"\n              className=\" btn btn-sm mt-2\"\n              onClick={handleUnSelectPermission}\n              disabled={selectedPermissions.length === 0}\n            >\n              <FaArrowLeft />\n            </button>\n          </div>\n        </div>\n      </div>\n      <PermissionList\n        permissions={selectedPermissions}\n        title=\"Selected Permissions\"\n        checkedPermissions={selectedCheckedPermissions}\n        setCheckedPermissions={setSelectedCheckedPermissions}\n      />\n    </div>\n  );\n};\n\nexport default Permission;\n"],"names":["permissions","title","checkedPermissions","setCheckedPermissions","handleChange","permission","filter","permi","id","length","filteredPermissions","className","type","name","checked","onChange","handleToggleAll","disabled","style","listStyleType","map","onClick","includes","selectedPermissions","setSelectedPermissions","holdPermissions","setHoldPermissions","role","edit","dispatch","useDispatch","useSelector","state","useState","unSelectedPermissions","setUnSelectedPermissions","selectedCheckedPermissions","setSelectedCheckedPermissions","unSelectedCheckedPermissions","setUnSelectedCheckedPermissions","useEffect","getAllPermission","idOfHoldPermission","filteredPermission","filteredData","commonData","find","filteredUnSelectedPermissions","errorFunction","filteredSelectedPermissions"],"sourceRoot":""}