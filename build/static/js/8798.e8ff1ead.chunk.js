"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[8798],{81829:function(e,t,n){n(72791);var r=n(12202),a=n(98158),s=n(80184);t.Z=function(e){var t=e.search,n=e.onClick,i=e.addPermission;return(0,s.jsxs)("div",{className:"card w-50 p-5 text-center justify-content-center no-data",children:[(0,s.jsx)("h4",{className:"fw-normal mb-3",children:"No data to Display"}),!t&&i&&(0,s.jsxs)("h6",{children:["Please Add Data ",(0,s.jsx)("br",{}),(0,s.jsx)(a.Z,{content:"Add",children:(0,s.jsxs)("button",{onClick:n,className:"btn btn-primary btn-md mx-2 px-3 py-1 mt-3",children:[(0,s.jsx)(r.wEH,{className:"nodata-icon",size:20})," Add"]})})," "]})]})}},34916:function(e,t,n){n.r(t),n.d(t,{default:function(){return P}});var r=n(70885),a=n(72791),s=n(50645),i=n(88451),c=n(12721),u=n(537),o=n(16030),d=n(12202),l=n(98158),p=n(15861),f=n(64687),h=n.n(f),m=n(90883),x=n(81829),v=n(58284),N=n(752),g=n(80184),j=function(e){var t=e.currentPage,n=e.postsPerPage,s=e.setCurrentPage,c=e.count,u=e.setShowModal,f=e.maxPageNumberLimit,j=e.setMaxPageNumberLimit,y=e.minPageNumberLimit,b=e.setMinPageNumberLimit,P=e.search,w=(0,o.v9)((function(e){return e.auth.permissions})),A=(0,o.v9)((function(e){return e.auth.isAdmin})),S=(0,o.v9)((function(e){return e.auth.isSuperuser})),Z=(0,o.v9)((function(e){return e.card.cards})),C=(0,o.v9)((function(e){return e.card.next})),E=(0,o.v9)((function(e){return e.card.previous})),I=(0,o.I0)(),_=(0,a.useState)(5),O=(0,r.Z)(_,1)[0],R=function(){var e=(0,p.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I((0,i.O7)(t));case 2:u(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=w.includes("can_read_entrypass")||A||S,L=w.includes("can_create_entrypass");return(0,g.jsx)(g.Fragment,{children:(null===Z||void 0===Z?void 0:Z.length)>0?(0,g.jsxs)("div",{className:"mt-2",children:[(0,g.jsx)("div",{className:"table-scrollable",children:(0,g.jsxs)("table",{className:"table table-hover table-bordered text-center",children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{style:{width:"2%"},children:"S.N"}),(0,g.jsx)("th",{className:"text-left",children:"Name"}),(0,g.jsx)("th",{className:"text-left",children:"Email"}),(0,g.jsx)("th",{className:"text-left",children:"Citizenship No"}),(0,g.jsx)("th",{className:"text-left",children:"Mobile"}),(0,g.jsx)("th",{className:"text-left",children:"DOB BS"}),(0,g.jsx)("th",{className:"text-left",children:"Office"}),(0,g.jsx)("th",{className:"text-left",children:"Reference"}),(0,g.jsx)("th",{children:"Action"})]})}),(0,g.jsx)("tbody",{children:(null===Z||void 0===Z?void 0:Z.length)>0&&Z.map((function(e,r){var a=e.id,s=e.fullName,i=e.email,c=e.citizenshipNumber,u=e.mobileNumber,o=e.submissionNumber,p=e.dobBs,f=e.office;return(0,g.jsxs)("tr",{children:[(0,g.jsxs)("td",{className:"fw-bold",style:{width:"2%"},children:[n*(t-1)+(r+1)," "]}),(0,g.jsx)("td",{className:"text-left",children:s}),(0,g.jsx)("td",{className:"text-left",style:{wordBreak:"break-all"},children:""!==i?i:"N/A"}),(0,g.jsx)("td",{className:"text-left",children:null===c?"N/A":c}),(0,g.jsx)("td",{className:"text-left",children:u}),(0,g.jsx)("td",{className:"text-left",children:p}),(0,g.jsx)("td",{className:"text-left",children:null===f||void 0===f?void 0:f.name}),(0,g.jsx)("td",{className:"text-left",children:o}),(0,g.jsx)("td",{children:k&&(0,g.jsx)(l.Z,{content:"View Detail",children:(0,g.jsx)("button",{onClick:function(){return R(a)},className:"btn btn-md btn-edit btn-primary mx-1",children:(0,g.jsx)(d.dSq,{size:16})})})})]},a)}))})]})}),c>0&&(0,g.jsx)(m.Z,{currentPage:t,postsPerPage:n,count:c,paginate:function(e){I((0,i.R8)({number:e,postsPerPage:n})),s(e)},handleClick:function(e){"previous"===e?(I((0,i.TI)(E)),s((function(e){return e-1})),(t-1)%O===0&&(j(f-O),b(y-O))):"next"===e&&(I((0,i.hj)(C)),s((function(e){return e+1})),t+1>f&&(j(f+O),b(y+O)))},setCurrentPage:s,minPageNumberLimit:y,maxPageNumberLimit:f})]}):(0,g.jsx)(x.Z,{search:P,onClick:function(){I((0,N.Ik)()),I((0,v.RP)()),u(!0)},addPermission:L})})},y=n(23656),b=n(66495),P=function(){var e=(0,o.v9)((function(e){return e.card.loading})),t=(0,o.v9)((function(e){return e.card.loadingUpdate})),n=(0,o.v9)((function(e){return e.card.loadingCreate})),p=(0,o.v9)((function(e){return e.card.loadingReject})),f=(0,o.v9)((function(e){return e.auth.permissions})),h=((0,o.v9)((function(e){return e.auth.isSuperuser})),(0,o.v9)((function(e){return e.card.count}))),m=(0,o.v9)((function(e){return e.card.card})),x=(0,o.v9)((function(e){return e.card.cards})),P=(0,o.v9)((function(e){return e.card.edit})),w=(0,o.v9)((function(e){return e.card.editDetails})),A=(0,o.v9)((function(e){return e.search.search})),S=(0,a.useState)(!1),Z=(0,r.Z)(S,2),C=Z[0],E=Z[1],I=(0,a.useState)(!1),_=(0,r.Z)(I,2),O=_[0],R=_[1],k=(0,a.useState)(!1),L=(0,r.Z)(k,2),M=L[0],T=L[1],D=(0,a.useState)([""]),U=(0,r.Z)(D,2),G=U[0],F=U[1],q=(0,a.useState)([""]),z=(0,r.Z)(q,2),V=(z[0],z[1]),Y=(0,o.I0)(),B=(0,a.useState)(1),H=(0,r.Z)(B,2),Q=H[0],X=H[1],J=(0,a.useState)(5),K=(0,r.Z)(J,2),W=K[0],$=K[1],ee=(0,a.useState)(0),te=(0,r.Z)(ee,2),ne=te[0],re=te[1],ae=(0,a.useState)(10),se=(0,r.Z)(ae,2),ie=se[0],ce=se[1];(0,a.useEffect)((function(){0===ie?Y(""===A?(0,i.lh)(h):(0,i.o1)(A,h)):""===A?(ie===s.P||X(1),Y((0,i.lh)(ie))):(X(1),$(5),re(0),Y((0,i.o1)(A,ie)))}),[Y,ie,A]);var ue=f.includes("can_create_entrypass");return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"user-card",children:[(0,g.jsx)("div",{className:"header-content",children:(0,g.jsx)("h4",{className:"mb-sm-0 fw-normal",children:"Pass Request Listing"})}),(0,g.jsxs)("div",{className:"".concat((null===x||void 0===x?void 0:x.length)>0?"office-card-body":"card-body"),children:[(0,g.jsx)("div",{className:"row m-0 p-0",children:(null===x||void 0===x?void 0:x.length)>0&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"col-6",children:(0,g.jsx)(u.Z,{postsPerPage:ie,setPostsPerPage:ce})}),(0,g.jsx)("div",{className:"col-6 text-right",children:ue&&(0,g.jsx)(l.Z,{content:"Add",children:(0,g.jsxs)("button",{className:"btn btn-primary waves-effect waves-light btn-sm float-end",onClick:function(){Y((0,N.Ik)()),Y((0,v.RP)()),E(!0)},children:[(0,g.jsx)(d.wEH,{className:"mb-1"}),"\xa0Add"]})})})]})}),e?(0,g.jsx)(c.Z,{}):(0,g.jsx)(j,{currentPage:Q,setCurrentPage:X,postsPerPage:ie,setPostsPerPage:ce,count:h,showModal:C,setShowModal:E,maxPageNumberLimit:W,setMaxPageNumberLimit:$,minPageNumberLimit:ne,setMinPageNumberLimit:re,search:A}),C&&(0,g.jsx)(b.Z,{header:w?"Update User Info":"User Info",types:"card",size:"modal-xl",setShowModal:E,showModal:C,edit:P,clearAction:i.k4,children:(0,g.jsx)(y.Z,{setShowModal:E,showModal:C,edit:P,editDetails:w,currentPage:Q,postsPerPage:ie,showSignatureModal:M,setShowSignatureModal:T,setSignatures:F,setSignaturesText:V,verifyCard:O,setVerifyCard:R,signatures:G,masterData:m,loading:e,loadingCreate:n,loadingUpdate:t,loadingReject:p,type:"card"})})]})]})})}},58284:function(e,t,n){n.d(t,{Qm:function(){return N},Xu:function(){return v},RP:function(){return x},o1:function(){return j},Ob:function(){return y},sA:function(){return g}});var r=n(15861),a=n(64687),s=n.n(a),i=n(89731),c=function(e){return i.ZP.post("api/v1/core-app/org-rule",e)},u=function(e,t){return i.ZP.patch("api/v1/core-app/org-rule/".concat(e),t)},o=function(e,t){return i.ZP.get("api/v1/core-app/org-rule?offset=0&limit=".concat(t,"&search=").concat(e))},d=n(36406),l=function(){return{type:d.E.LOADING_ORGANIZATION_SETUP}},p=function(e){return{type:d.E.GET_ORGANIZATION_SETUP_SUCCESS,payload:e}},f=function(e){return{type:d.E.GET_ORGANIZATION_SETUP_FAIL,payload:e}},h=function(e){return{type:d.E.GET_ORGANIZATION_SUCCESS,payload:e}},m=n(29801),x=function(){return function(){var e=(0,r.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(l()),e.next=4,i.ZP.get("api/v1/core-app/org-rule?offset=0&limit=0&ordering=-id");case 4:n=e.sent,r=n.data,t(p(r)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),t(f(e.t0)),(0,m.Mn)(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},v=function(){return function(){var e=(0,r.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:d.E.LOADING_ORGANIZATION}),e.next=4,i.ZP.get("api/v1/core-app/organization-setup/list?limit=0");case 4:n=e.sent,r=n.data,t(h(r)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),t((a=e.t0,{type:d.E.GET_ORGANIZATION_FAIL,payload:a})),(0,m.Mn)(e.t0);case 13:case"end":return e.stop()}var a}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},N=function(e){return function(){var t=(0,r.Z)(s().mark((function t(n){var r,a,i,u,o,p;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.canMinorApply,a=e.newCardValidityYear,i=e.otherLettersRequired,u=e.recommendationRequired,o=e.renewCardValidityYear,t.prev=1,(p=new FormData).append("canMinorApply",r),p.append("newCardValidityYear",a),p.append("otherLettersRequired",i),p.append("recommendationRequired",u),p.append("renewCardValidityYear",o),n(l()),t.next=11,c(p);case 11:return(0,m.My)("Organization Setup created successfully "),n(x(10)),t.abrupt("return",!0);case 16:t.prev=16,t.t0=t.catch(1),n((s=t.t0,{type:d.E.CREATE_ORGANIZATION_SETUP_FAIL,payload:s})),(0,m.Mn)("Failed to create Organization Setup.");case 20:case"end":return t.stop()}var s}),t,null,[[1,16]])})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=(0,r.Z)(s().mark((function t(n){var r,a,i,c,o,p,f,h,v;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.id,a=e.values,i=a.canMinorApply,c=a.newCardValidityYear,o=a.otherLettersRequired,p=a.recommendationRequired,f=a.renewCardValidityYear,t.prev=2,n({type:d.E.LOADING_UPDATED}),(h=new FormData).append("canMinorApply",i),h.append("newCardValidityYear",c),h.append("otherLettersRequired",o),h.append("recommendationRequired",p),h.append("renewCardValidityYear",f),n(l()),t.next=13,u(r,h);case 13:return v=t.sent,v.data,n(x(10)),(0,m.My)("Organization Setup Updated Successfully "),t.abrupt("return",!0);case 20:t.prev=20,t.t0=t.catch(2),n((s=t.t0,{type:d.E.UPDATE_ORGANIZATION_SETUP_FAIL,payload:s})),(0,m.Mn)("Failed to Update Organization Setup");case 24:case"end":return t.stop()}var s}),t,null,[[2,20]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e,t){return function(){var n=(0,r.Z)(s().mark((function n(r){var a,i;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(l()),n.next=4,o(e,t);case 4:a=n.sent,i=a.data,r(p(i)),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),r(f(n.t0)),(0,m.Mn)(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},y=function(){return function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:d.E.CLEAR_ALL_DATA}),e.abrupt("return",!0);case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=8798.e8ff1ead.chunk.js.map