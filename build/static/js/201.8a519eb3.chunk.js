"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[201],{74066:function(e,t,s){s(72791);var n=s(80184);t.Z=function(){return(0,n.jsx)("div",{className:"card w-50 p-5 text-center justify-content-center no-data",children:(0,n.jsx)("h4",{className:"fw-normal mb-3",children:"No data to Display"})})}},54713:function(e,t,s){s.r(t),s.d(t,{default:function(){return z}});var n=s(70885),i=s(72791),a=s(50645),r=s(31725),l=s(12202),c=s(16030),d=s(90883),o=s(98158),h=s(61517),m=s(74066),u=s(80184),x=function(e){var t=e.currentPage,s=e.postsPerPage,a=e.setCurrentPage,x=e.count,j=e.maxPageNumberLimit,f=e.setMaxPageNumberLimit,p=e.minPageNumberLimit,v=e.setMinPageNumberLimit,N=(e.search,e.showModal,e.setShowModal),b=e.setShowEditModal,g=(0,c.v9)((function(e){return e.auth})),y=g.permissions,w=g.isAdmin,P=(0,c.v9)((function(e){return e.auth.isSuperuser})),C=(0,c.v9)((function(e){return e.verifyCard})),S=C.next,M=C.previous,Z=C.verifyCards,k=(0,c.I0)(),z=(0,i.useState)(5),A=(0,n.Z)(z,1)[0],F=(null===y||void 0===y?void 0:y.includes("can_verify_entrypass"))||P;return(0,u.jsx)(u.Fragment,{children:(null===Z||void 0===Z?void 0:Z.length)>0?(0,u.jsxs)("div",{className:"mt-2",children:[(0,u.jsx)("div",{className:"table-scrollable",children:(0,u.jsxs)("table",{className:"table table-hover table-bordered text-center",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",style:{width:"2%"},children:"S.N"}),(0,u.jsx)("th",{scope:"col",className:"text-left",children:"Name"}),(0,u.jsx)("th",{scope:"col",className:"text-left",children:"Email"}),(0,u.jsx)("th",{scope:"col",className:"text-left",children:"Citizenship No"}),(0,u.jsx)("th",{scope:"col",className:"text-left",children:"Mobile"}),(0,u.jsx)("th",{scope:"col",className:"text-left",children:"DOB BS"}),(0,u.jsx)("th",{scope:"col",className:"text-left",children:"Office"}),(0,u.jsx)("th",{scope:"col",className:"text-left",children:"Reference"}),(0,u.jsx)("th",{scope:"col",children:"Action"})]})}),(0,u.jsx)("tbody",{children:(null===Z||void 0===Z?void 0:Z.length)>0&&Z.map((function(e,n){var i=e.id,a=e.fullName,c=e.email,d=e.citizenshipNumber,m=e.mobileNumber,x=e.submissionNumber,j=e.dobBs,f=e.office;return(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{className:"fw-bold",style:{width:"2%"},children:[s*(t-1)+(n+1)," "]}),(0,u.jsx)("td",{className:"text-left",children:a||"N/A"}),(0,u.jsx)("td",{className:"text-left",style:{wordBreak:"break-all"},children:c||"N/A"}),(0,u.jsx)("td",{className:"text-left",children:d||"N/A"}),(0,u.jsx)("td",{className:"text-left",children:m||"N/A"}),(0,u.jsx)("td",{className:"text-left",children:j||"N/A"}),(0,u.jsx)("td",{className:"text-left",children:f?null===f||void 0===f?void 0:f.name:"N/A"}),(0,u.jsx)("td",{className:"text-left",children:x}),(0,u.jsxs)("td",{children:[w&&(0,u.jsx)(o.Z,{content:"Edit",children:(0,u.jsx)("button",{disabled:!F,onClick:function(){return function(e){k({type:h.$.EDIT_VERIFY_CARD,payload:e}),b(!0)}(i)},className:"btn btn-md  btn-success mx-2",children:(0,u.jsx)(l.fmQ,{size:16})})}),(0,u.jsx)(o.Z,{content:"Verify",children:(0,u.jsx)("button",{disabled:!F,onClick:function(){return function(e){k((0,r.$N)(e)),N(!0)}(i)},className:"btn btn-md  btn-success mx-2",children:(0,u.jsx)(l.l_A,{size:16})})})]})]},i)}))})]})}),x>0&&(0,u.jsx)(d.Z,{currentPage:t,postsPerPage:s,count:x,paginate:function(e){k((0,r.R8)({number:e,postsPerPage:s})),a(e)},handleClick:function(e){"previous"===e?(k((0,r.TI)(M)),a((function(e){return e-1})),(t-1)%A===0&&(f(j-A),v(p-A))):"next"===e&&(k((0,r.hj)(S)),a((function(e){return e+1})),t+1>j&&(f(j+A),v(p+A)))},setCurrentPage:a,minPageNumberLimit:p,maxPageNumberLimit:j})]}):(0,u.jsx)(m.Z,{})})},j=s(12721),f=s(537),p=s(2557),v=s(66495),N=s(92138),b=s(15861),g=s(64687),y=s.n(g),w=s(29801),P=function(e){var t=e.verifyModal,s=e.setVerifyModal,n=e.verifyCard,i=e.setShowModal,a=e.currentPage,r=e.postsPerPage,d=e.verifyCardThunk,o=(0,c.I0)(),h=function(){var e=(0,b.Z)(y().mark((function e(){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(d(null===n||void 0===n?void 0:n.id,a,r));case 2:e.sent?(s(!1),i(!1)):i(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=t?"modal modal-md display-block d-flex justify-content-center align-items-center":"modal display-none d-flex justify-content-center";return(0,u.jsx)("div",{className:m,id:"exampleModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,u.jsx)("div",{className:"modal-dialog modal-sm modal-dialog-centered",children:(0,u.jsxs)("div",{className:"modal-content",children:[(0,u.jsxs)("div",{className:"modal-header py-1 px-2",children:[(0,u.jsx)("p",{}),(0,u.jsx)("div",{className:"export-buttons",children:(0,u.jsx)("button",{onClick:function(){return s(!1)},type:"button",className:"btn-close",children:(0,u.jsx)(l.aHS,{})})})]}),(0,u.jsxs)("div",{className:"buttons-container d-flex flex-column justify-content-center align-items-center p-2",children:[(0,u.jsx)("h4",{children:"Do you want to approve ?"}),(0,u.jsxs)("div",{className:"d-flex align-items-center justify-content-center",style:{gap:"10px"},children:[(0,u.jsx)("button",{className:"btn btn-danger  ",onClick:function(){s(!1)},children:"NO"}),(0,u.jsx)("button",{className:"btn btn-success ",onClick:h,children:"YES"})]})]})]})})})},C=i.memo(P),S=s(64312),M=s(11579),Z=function(e){e.showModal;var t=e.setShowModal,s=e.currentPage,a=e.postsPerPage,l=(0,c.I0)(),d=(0,c.v9)((function(e){return e.verifyCard})),h=d.verifyCard,m=(d.edit,d.loadingUpdated),x=(d.loading,(0,c.v9)((function(e){return e.auth.signaturePhoto}))),j=(0,i.useState)(!1),f=(0,n.Z)(j,2),b=f[0],g=f[1],y=(0,i.useState)(!1),P=(0,n.Z)(y,2),Z=P[0],k=P[1],z=(0,i.useState)(""),A=(0,n.Z)(z,2),F=A[0],L=A[1],B=(0,i.useState)(!1),R=(0,n.Z)(B,2),V=R[0],I=R[1],E=h.district,D=h.dob,_=h.dobBs,O=h.email,T=h.fatherName,U=h.fullName,Y=h.gender,$=h.isRecommended,G=h.married,H=h.migrated,Q=h.mobileNumber,W=h.palika,q=h.province,J=h.spouseName,K=h.submissionNumber,X=h.userPhoto,ee=h.wardNumber,te=h.office,se=h.recommendationLetter,ne=h.citizenshipBack,ie=h.citizenshipFront,ae=h.birthCertificate,re=function(e){if("string"===typeof e)return"pdf"===e.substring(e.length-3,e.length)?N:e},le=function(e){"citizenshipFront"===e.target.name?(k(!0),L(ie)):"citizenshipBack"===e.target.name?(k(!0),L(ne)):"birthCertificate"===e.target.name?(k(!0),L(ae)):"recommendationLetter"===e.target.name&&(k(!0),L(se))};return(0,u.jsxs)(u.Fragment,{children:[m&&(0,u.jsx)(M.Z,{}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"basic-details col-12 ",children:[(0,u.jsx)("div",{className:"user-img",children:(0,u.jsx)("img",{src:X,alt:"userPhoto"})}),(0,u.jsxs)("div",{className:"details flex-grow-1",children:[(0,u.jsxs)("div",{className:"full-name",children:[U," "]}),(0,u.jsxs)("div",{children:[K," "]}),(0,u.jsx)("div",{}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"Gender: "})," ","m"===Y?"Male":"f"===Y?"Female":"Other"]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"Contact: "}),Q]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"Email: "})," ",O]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:" Address: "}),null===q||void 0===q?void 0:q.name,", ",null===E||void 0===E?void 0:E.name,", ",null===W||void 0===W?void 0:W.name," -",ee]})]}),(0,u.jsx)("div",{className:"divider "}),(0,u.jsxs)("div",{className:"details",style:{minWidth:"250px"},children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"DOB: "})," ",_]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"Dob(AD): "}),D]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"Father : "})," ",T]}),G&&(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"Spouse: "}),J]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"Migrated: "})," ",H?"Yes":"No"]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"Recommended: "})," ",$?"Yes":"No"]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"Applied Office: "})," ",null===te||void 0===te?void 0:te.name,",",null===te||void 0===te?void 0:te.address]})]})]}),(0,u.jsx)("div",{className:"basic-details mt-3 col-12 row",children:(0,u.jsxs)("div",{className:"details d-flex col-12",children:[ne&&ie&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"d-flex flex-column col-2",children:[(0,u.jsx)("span",{children:"Citizenship Front"}),(0,u.jsx)("img",{className:"border rounded",style:{objectFit:"contain"},src:re(ie),height:120,alt:"citizenshipFront"}),(0,u.jsx)("div",{className:"d-flex justify-content-center mt-1",children:(0,u.jsx)(o.Z,{content:"view",children:(0,u.jsx)("button",{name:"citizenshipFront",onClick:le,type:"btn",className:"btn btn-primary p-1",style:{fontSize:"14px"},children:"View"})})})]}),(0,u.jsxs)("div",{className:"d-flex flex-column col-2",children:[(0,u.jsx)("span",{children:"Citizenship Back"}),(0,u.jsx)("img",{className:"border rounded",style:{objectFit:"contain"},src:re(ne),height:120,alt:"citizenshipBack"}),(0,u.jsx)("div",{className:"d-flex justify-content-center mt-1",children:(0,u.jsx)(o.Z,{content:"view",children:(0,u.jsx)("button",{name:"citizenshipBack",onClick:le,type:"btn",className:"btn btn-primary p-1",style:{fontSize:"14px"},children:"View"})})})]})]}),ae&&(0,u.jsxs)("div",{className:"d-flex flex-column col-2",children:[(0,u.jsx)("span",{children:"Birth Certificate"}),(0,u.jsx)("img",{className:"border rounded",style:{objectFit:"contain"},src:re(ae),height:120,alt:"birthCertificate"}),(0,u.jsx)("div",{className:"d-flex justify-content-center mt-1",children:(0,u.jsx)(o.Z,{content:"view",children:(0,u.jsx)("button",{name:"birthCertificate",onClick:le,type:"btn",className:"btn btn-primary p-1",style:{fontSize:"14px"},children:"View"})})})]}),se&&(0,u.jsxs)("div",{className:"d-flex flex-column col-2",children:[(0,u.jsx)("span",{children:"Recommendation Letter"}),(0,u.jsx)("img",{className:"border rounded",style:{objectFit:"contain"},src:re(se),height:120,alt:"recommendationLetter"}),(0,u.jsx)("div",{className:"d-flex justify-content-center mt-1",children:(0,u.jsx)(o.Z,{content:"view",children:(0,u.jsx)("button",{name:"recommendationLetter",onClick:le,type:"btn",className:"btn btn-primary p-1",style:{fontSize:"14px"},children:"View"})})})]})]})}),(0,u.jsx)("div",{className:"d-flex flex-column col-12",children:(0,u.jsxs)("div",{className:"d-flex justify-content-center mt-2",children:[(0,u.jsx)("div",{className:"m-1",children:(0,u.jsx)(p.Z,{type:"btn",className:"btn btn-danger",loading:m,onClick:function(){return I(!0)},title:"Reject",content:"Reject"})}),(0,u.jsx)("div",{className:"m-1",children:(0,u.jsx)(p.Z,{type:"btn",className:"btn btn-primary",loading:m,onClick:function(){x?g(!0):(0,w.Mn)("Please add signature to verify.")},title:"Approve",content:"Approve"})})]})})]}),Z&&(0,u.jsx)(v.Z,{header:"View Image",types:"setup",size:"modal-xl",setShowModal:k,showModal:Z,edit:!1,children:(0,u.jsx)("div",{className:"imageContainer d-flex justify-content-center",children:(0,u.jsx)("iframe",{height:"520",src:F,style:{width:"100%"}})})}),b&&(0,u.jsx)(C,{verifyCardThunk:r.tT,verifyCard:h,verifyModal:b,setVerifyModal:g,setShowModal:t,currentPage:s,postsPerPage:a}),V&&(0,u.jsx)(v.Z,{header:"Reason for rejecting this form.",types:"setup",size:"modal-sm",setShowModal:I,showModal:V,children:(0,u.jsx)(S.Z,{types:"verifyCard",data:h,dispatch:l,showRejectModal:V,setShowRejectModal:I,setShowModal:t,clearAction:r.Nk,currentPage:s,postsPerPage:a})})]})},k=s(23656),z=function(){var e=(0,c.v9)((function(e){return e.verifyCard})),t=e.verifyCards,s=e.loading,l=e.loadingUpdated,d=e.count,o=e.edit,h=e.verifyCard,m=(0,c.v9)((function(e){return e.search.search})),p=(0,c.v9)((function(e){return e.auth.permissions})),N=(0,c.v9)((function(e){return e.auth.isSuperuser})),b=(0,c.I0)(),g=(0,i.useState)(!1),y=(0,n.Z)(g,2),w=y[0],P=y[1],C=(0,i.useState)(!1),S=(0,n.Z)(C,2),M=S[0],z=S[1],A=(0,i.useState)(!1),F=(0,n.Z)(A,2),L=F[0],B=F[1],R=(0,i.useState)(!1),V=(0,n.Z)(R,2),I=V[0],E=V[1],D=(0,i.useState)([""]),_=(0,n.Z)(D,2),O=_[0],T=_[1],U=(0,i.useState)([""]),Y=(0,n.Z)(U,2),$=(Y[0],Y[1]),G=(0,i.useState)(1),H=(0,n.Z)(G,2),Q=H[0],W=H[1],q=(0,i.useState)(5),J=(0,n.Z)(q,2),K=J[0],X=J[1],ee=(0,i.useState)(0),te=(0,n.Z)(ee,2),se=te[0],ne=te[1],ie=(0,i.useState)(10),ae=(0,n.Z)(ie,2),re=ae[0],le=ae[1];(0,i.useEffect)((function(){0===re?b(""===m?(0,r.lY)(d):(0,r.o1)(m,d)):""===m?(re===a.P||W(1),b((0,r.lY)(re))):(W(1),X(5),ne(0),b((0,r.o1)(m,re)))}),[b,re,m]);p.includes("can_verify_entrypass");return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"user-card",children:[(0,u.jsx)("div",{className:"header-content",children:(0,u.jsx)("h4",{className:"mb-sm-0 fw-normal",children:"Verified Cards Listing"})}),(0,u.jsxs)("div",{className:"".concat((null===t||void 0===t?void 0:t.length)>0?"office-card-body":"card-body"),children:[(0,u.jsx)("div",{className:"row m-0 p-0",children:(null===t||void 0===t?void 0:t.length)>0&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{className:"col-6",children:(0,u.jsx)(f.Z,{postsPerPage:re,setPostsPerPage:le})})})}),s&&(0,u.jsx)(j.Z,{}),l&&(0,u.jsx)(j.Z,{}),!s&&!l&&(0,u.jsx)(x,{verifyCards:t,currentPage:Q,setCurrentPage:W,postsPerPage:re,setPostsPerPage:le,count:d,maxPageNumberLimit:K,setMaxPageNumberLimit:X,minPageNumberLimit:se,setMinPageNumberLimit:ne,search:m,showModal:w,setShowModal:P,setShowEditModal:B,showEditModal:L})]})]}),w&&o&&(0,u.jsx)(v.Z,{header:"Verify Card",types:"setup",size:"modal-xl",setShowModal:P,showModal:w,edit:o,clearAction:r.Nk,children:(0,u.jsx)(Z,{edit:o,showModal:w,setShowModal:P,currentPage:Q,postsPerPage:re})}),L&&(0,u.jsx)(v.Z,{header:o?"Update User Info":"User Info",types:"setup",size:"modal-xl",setShowModal:B,showModal:L,edit:o,clearAction:r.Nk,children:(0,u.jsx)(k.Z,{setShowModal:B,showModal:L,edit:o,currentPage:Q,postsPerPage:re,showSignatureModal:I,setShowSignatureModal:E,setSignatures:T,setSignaturesText:$,verifyCard:M,setVerifyCard:z,signatures:O,masterData:h,loading:s,loadingUpdate:l,count:d,type:"verifyCard"})})]})}}}]);
//# sourceMappingURL=201.8a519eb3.chunk.js.map