{"version":3,"file":"static/js/4925.62e57ccb.chunk.js","mappings":"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","sources":["Component/Alert/index.js","Component/Spinner/Spinner.js","Component/TextError/TextError.js","Pages/ResetPassword/ResetPasswordConfirm.js","Redux/Auth/api.js","Redux/Auth/action.js","Redux/Auth/thunk.js","utils/axios.js"],"sourcesContent":["import { toast } from \"react-toastify\";\ntoast.configure();\n//toast for error\nexport const errorFunction = (error) => {\n  const errorMessage = typeof error === \"string\" ? error : \"error\";\n  toast.error(errorMessage, {\n    position: \"top-right\",\n    autoClose: 2500,\n    hideProgressBar: false,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: true,\n    progress: undefined,\n  });\n};\n\n//toast for success\nexport const successFunction = (data) => {\n  const successMessage = typeof data === \"string\" ? data : \"success\";\n  toast.success(successMessage, {\n    position: \"top-right\",\n    autoClose: 2500,\n    hideProgressBar: false,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: true,\n    progress: undefined,\n  });\n};\n//toast for info\nexport const infoFunction = (data) => {\n  const infoMessage = typeof data === \"string\" ? data : \"success\";\n  toast.info(infoMessage, {\n    position: \"top-right\",\n    autoClose: 2500,\n    hideProgressBar: false,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: true,\n    progress: undefined,\n  });\n};\n","import React from \"react\";\nimport spinner from \"../../assets/spinner.gif\";\nconst Spinner = () => {\n  return (\n    <img\n      src={spinner}\n      alt=\"spinner\"\n      // color={color}\n      height=\"50px\"\n    />\n  );\n};\n\nexport default Spinner;\n","import React from \"react\";\nimport \"./TextError.css\";\nconst TextError = (props) => {\n  return <div className=\"error\">{props.children}</div>;\n};\n\nexport default TextError;\n","import React, { useState } from \"react\";\nimport \"../Login/Login.css\";\nimport { Form, Field, Formik, ErrorMessage } from \"formik\";\nimport { useHistory } from \"react-router-dom\";\nimport * as Yup from \"yup\";\nimport TextError from \"../../Component/TextError/TextError\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { confirmPassword } from \"../../Redux/Auth/thunk\";\nimport Spinner from \"../../Component/Spinner/Spinner\";\nimport { BsFillEyeFill, BsFillEyeSlashFill } from \"react-icons/bs\";\nconst ResetPasswordConfirm = (props) => {\n  let history = useHistory();\n  // props\n  const loadingReset = useSelector((state) => state.auth.loadingReset);\n  const dispatch = useDispatch();\n  const [type, setType] = useState(\"password\");\n  const [type1, setType1] = useState(\"password\");\n\n  //initial values of form field in formik\n  const initialValues = {\n    password: \"\",\n    confirm_password: \"\",\n  };\n  //validation rule for the form field in formik\n  const validationSchema = Yup.object().shape({\n    password: Yup.string()\n      .required(\"Please Enter your password\")\n      .matches(\n        /^(?=.*[a-z])(?=.*\\d)[A-Za-z\\d@$!%*#?&]{6,}$/,\n        \"Must Contain 6 Characters, One alphabet and One Number \"\n      ),\n    confirm_password: Yup.string()\n      .required(\"Password is required\")\n      .oneOf([Yup.ref(\"password\"), null], \"Passwords must match\"),\n  });\n  //submit handler for formik\n  const onSubmit = (values) => {\n    const { password, confirm_password } = values;\n    const token = props.match.params.token;\n    dispatch(confirmPassword(password, confirm_password, token, history));\n  };\n  // toggle password\n  const handleClick = () => {\n    if (type === \"password\") {\n      setType(\"text\");\n    } else {\n      setType(\"password\");\n    }\n  };\n  // toggle confirm password\n  const handleClick1 = () => {\n    if (type1 === \"password\") {\n      setType1(\"text\");\n    } else {\n      setType1(\"password\");\n    }\n  };\n  return (\n    <div className=\"account-pages my-5\">\n      <div className=\"container\">\n        <div className=\"row justify-content-center\">\n          <div className=\"col-md-8 col-lg-6 col-xl-5\">\n            <div className=\"card overflow-hidden\">\n              <div className=\"bg-primary bg-soft\">\n                <div className=\"row\">\n                  <div className=\"col-sm-7\">\n                    <div className=\"text-white p-4\">\n                      <h5 className=\"text-white\">Choose a New Password</h5>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"card-body pt-0\">\n                <div className=\"p-2\">\n                  <Formik\n                    initialValues={initialValues}\n                    validationSchema={validationSchema}\n                    onSubmit={onSubmit}\n                  >\n                    {(formik) => {\n                      return (\n                        <Form autoComplete=\"off\" className=\"form-horizontal \">\n                          <div className=\"mb-3  password-field\">\n                            <label htmlFor=\"password\" className=\"form-label \">\n                              New Password\n                            </label>\n                            <div style={{ position: \"relative\" }}>\n                              <Field\n                                type={type}\n                                className=\"form-control \"\n                                name=\"password\"\n                                placeholder=\"New Password\"\n                              />\n                              <span onClick={handleClick}>\n                                {type === \"password\" ? (\n                                  <BsFillEyeSlashFill />\n                                ) : (\n                                  <BsFillEyeFill />\n                                )}\n                              </span>\n                            </div>\n                            <ErrorMessage\n                              name=\"password\"\n                              component={TextError}\n                            />\n                          </div>\n                          <div className=\"mb-3  password-field\">\n                            <label\n                              htmlFor=\"confirm_password\"\n                              className=\"form-label \"\n                            >\n                              Confirm New Password\n                            </label>\n                            <div style={{ position: \"relative\" }}>\n                              <Field\n                                type={type1}\n                                className=\"form-control \"\n                                name=\"confirm_password\"\n                                placeholder=\" Confirm New Password\"\n                              />\n                              <span onClick={handleClick1}>\n                                {type1 === \"password\" ? (\n                                  <BsFillEyeSlashFill />\n                                ) : (\n                                  <BsFillEyeFill />\n                                )}\n                              </span>\n                            </div>\n                            <ErrorMessage\n                              name=\"confirm_password\"\n                              component={TextError}\n                            />\n                          </div>\n                          <div className=\"mt-3 d-grid\">\n                            <button\n                              className=\"btn btn-primary waves-effect waves-light mt-4 m-3\"\n                              type=\"submit\"\n                              disabled={loadingReset}\n                            >\n                              Reset Password {loadingReset && <Spinner />}\n                            </button>\n                          </div>\n                        </Form>\n                      );\n                    }}\n                  </Formik>\n                </div>\n              </div>\n            </div>\n            <div className=\"mt-3 text-center\">\n              <div>\n                <p>©2021 Nepal-China Entry/Exit Pass.</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ResetPasswordConfirm;\n","import axiosInstance from \"../../utils/axios\";\n\n//for login\nexport const login = (body) => axiosInstance.post(`auth/login`, body);\n//for logout\nexport const logout = (body) => axiosInstance.post(`auth/logout`, body);\n//for reset password\nexport const resetPassword = (body) =>\n  axiosInstance.post(`api/v1/user-app/password-reset/`, body);\nexport const confirmPassword = (body) =>\n  axiosInstance.post(`api/v1/user-app/password-reset/confirm/`, body);\nexport const changePassword = ( body) =>\n  axiosInstance.patch(`auth/change-password`, body);\n\n// update signature\nexport const updateSignature = (body) =>\n  axiosInstance.patch(`auth/update-signature`, body);","import { authConstants } from \"./constants\";\n// actions\nexport const loadingAction = () => ({\n  type: authConstants.LOADING,\n});\nexport const loadingResetAction = () => ({\n  type: authConstants.LOADING_RESET,\n});\nexport const LoadingResetPasswordAction = () => ({\n  type: authConstants.LOADING_RESET_PASSWORD,\n});\n\nexport const loginSuccessAction = (data) => ({\n  type: authConstants.LOGIN_SUCCESS,\n  payload: data,\n});\nexport const loginFailAction = (error) => ({\n  type: authConstants.LOGIN_FAIL,\n  payload: error,\n});\nexport const logoutSuccessAction = () => ({\n  type: authConstants.LOGOUT_SUCCESS,\n});\nexport const logoutFailAction = (error) => ({\n  type: authConstants.LOGOUT_FAIL,\n  payload: error,\n});\nexport const resetSuccessAction = (data) => ({\n  type: authConstants.RESET_SUCCESS,\n  payload: data,\n});\nexport const resetFailAction = (error) => ({\n  type: authConstants.RESET_FAIL,\n  payload: error,\n});\nexport const confirmSuccessAction = () => ({\n  type: authConstants.PASSWORD_CONFIRM_SUCCESS,\n});\nexport const confirmFailAction = (error) => ({\n  type: authConstants.PASSWORD_CONFIRM_FAIL,\n  payload: error,\n});\nexport const changePasswordSuccessAction = (response) => ({\n  type: authConstants.PASSWORD_CHANGE_SUCCESS,\n  payload: response,\n});\n\nexport const changePasswordFailAction = (error) => ({\n  type: authConstants.PASSWORD_CHANGE_FAIL,\n  payload: error,\n});\nexport const getAllBranchesSuccessAction = (data) => ({\n  type: authConstants.GET_ALL_BRANCHES_SUCCESS,\n  payload: data,\n});\nexport const getAllBranchesFailAction = (error) => ({\n  type: authConstants.GET_ALL_BRANCHES_FAIL,\n  payload: error,\n});\n\nexport const updateSignatureSuccessAction = (data) => ({\n  type: authConstants.UPDATE_SIGNATURE_SUCCESS,\n  payload: data,\n});\n\nexport const updateSignatureFailAction = (error) => ({\n  type: authConstants.UPDATE_SIGNATURE_FAIL,\n  payload: error,\n});\n","import * as API from \"./api\";\nimport * as action from \"./action\";\nimport { successFunction, errorFunction } from \"../../Component/Alert\";\nimport { authConstants } from \"./constants\";\n//login\nexport const login = (username, password) => async (dispatch) => {\n  try {\n    dispatch(action.loadingAction());\n    const body = { username, password };\n    const { data } = await API.login(body);\n    //for storing the states when login success on the basis of which we can change the route of page.\n    successFunction(`Welcome ${data.user.username}`);\n    dispatch(action.loginSuccessAction(data));\n  } catch (error) {\n    console.log(error, \"error\");\n    errorFunction(error);\n    dispatch(action.loginFailAction(error));\n  }\n};\n//logout function\nexport const logout = (token) => async (dispatch) => {\n  try {\n    dispatch(action.loadingAction());\n    const body = { refresh: token };\n    await API.logout(body);\n    dispatch(action.logoutSuccessAction());\n    successFunction(`You have been successfully logged out.`);\n  } catch (error) {\n    dispatch(action.logoutFailAction(error));\n    errorFunction(error);\n  }\n};\n//send email\nexport const resetPassword = (email) => async (dispatch) => {\n  try {\n    dispatch(action.LoadingResetPasswordAction());\n    const body = JSON.stringify({ email: email });\n    const { data } = await API.resetPassword(body);\n    dispatch(action.resetSuccessAction(data));\n    successFunction(`Email send successfully `);\n  } catch (error) {\n    dispatch(action.resetFailAction(error));\n    errorFunction(\n      `There is no active user associated with this e-mail address  || the password can not be changed `\n    );\n  }\n};\nexport const confirmPassword =\n  (password, confirm_password, token, history) => async (dispatch) => {\n    try {\n      dispatch(action.loadingResetAction());\n      const body = JSON.stringify({ token, password, confirm_password });\n      const { data } = await API.confirmPassword(body);\n      dispatch(action.confirmSuccessAction(data));\n      successFunction(`Password has been reset successfully `);\n      dispatch({ type: authConstants.RESET_SUCCESS, payload: [] });\n      history.push(\"/\");\n    } catch (error) {\n      dispatch(action.confirmFailAction(error));\n      errorFunction(`Failed to reset Password`);\n    }\n  };\n\nexport const changePassword =\n  (old_password, password, confirm_password, history) => async (dispatch) => {\n    try {\n      dispatch(action.loadingAction());\n      const body = JSON.stringify({ password, old_password, confirm_password });\n      const response = await API.changePassword(body);\n      dispatch(action.changePasswordSuccessAction(response));\n      successFunction(`Password changed successfully `);\n      history.push(\"/\");\n    } catch (error) {\n      dispatch(action.changePasswordFailAction(error));\n      errorFunction(error);\n    }\n  };\n\n// update signature\nexport const updateSignature = (signature) => async (dispatch) => {\n  try {\n    dispatch(action.loadingAction());\n    const body = JSON.stringify({ signature, signatureUpdating: true });\n    const response = await API.updateSignature(body);\n    successFunction(`Signature updated successfully`);\n    dispatch(action.updateSignatureSuccessAction(response?.data));\n    return true;\n  } catch (error) {\n    dispatch(action.updateSignatureFailAction(error));\n    errorFunction(error);\n  }\n};\n","import axios from \"axios\";\nimport { store } from \"../Redux/store\";\nimport { authConstants } from \"../Redux/Auth/constants\";\nimport { toast } from \"react-toastify\";\n\n//creating axios instance\nexport const publicAxiosInstance = axios.create({\n  baseURL: process.env.REACT_APP_BASE_URL,\n});\nexport const printerAxiosInstance = axios.create({\n  baseURL: process.env.REACT_APP_PRINTER_BASE_URL,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nconst axiosInstance = axios.create({\n  baseURL: process.env.REACT_APP_BASE_URL,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n//interceptor\n//request handling\naxiosInstance.interceptors.request.use(\n  (config) => {\n    // if (!window.navigator.onLine) {\n    //   return Promise.reject(\"No Internet\");\n    // }\n    if (window.navigator.onLine) {\n      config.headers[\"Authorization\"] = localStorage.getItem(\"accessToken\")\n        ? `Bearer ${localStorage.getItem(\"accessToken\")}`\n        : null;\n      config.baseURL = process.env.REACT_APP_BASE_URL;\n      return config;\n    }\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n//response handling\naxiosInstance.interceptors.response.use(\n  (res) => res,\n  async (error) => {\n    //refresh token\n\n    const originalRequest = error.config;\n    //when refresh token is also not valid\n    if (\n      error.response.status === 401 &&\n      originalRequest.url === `auth/token/refresh`\n    ) {\n      store.dispatch({ type: authConstants.AUTH_ERROR });\n      // return Promise.reject(error.response?.data.code);\n      // return toast.error(`Refresh Token Expired. Please Login.`, {\n      //   autoClose: 1200,\n      // });\n    }\n    //accessing new access token from refresh token\n    if (\n      error.response?.data.code === \"token_not_valid\" &&\n      !originalRequest._retry\n    ) {\n      //call for refresh token\n      originalRequest._retry = true;\n      try {\n        const body = JSON.stringify({\n          refresh: localStorage.getItem(\"refreshToken\"),\n        });\n        localStorage.removeItem(\"accessToken\");\n        const response = await axiosInstance.post(`auth/token/refresh`, body);\n        if (response.status === 200) {\n          localStorage.setItem(\"accessToken\", response?.data.access);\n          originalRequest.headers[\n            \"Authorization\"\n          ] = `Bearer ${response?.data.access}`;\n          return axiosInstance(originalRequest);\n        }\n      } catch (error) {\n        store.dispatch({\n          type: authConstants.AUTH_ERROR,\n        });\n\n        // return toast.error(`${error.response.data.error}`);\n        // return Promise.reject(error.response?.data.error);\n      }\n      // return store.dispatch({ type: AUTH_ERROR });\n    }\n    //no Internet\n    if (error === \"No Internet\") {\n      toast.error(`No Internet Connection !!!`);\n      // return Promise.reject(`No Internet`);\n    }\n    //server down\n    if (error.message === \"Network Error\") {\n      toast.error(\"Internal Server Error. Contact IT manager !!!\", {\n        autoClose: 1200,\n      });\n      // return Promise.reject(`Internal Server Error. Contact IT manager !!!`);\n    }\n    if (error.response?.status === 500) {\n      toast.error(\"Internal Server Error. Contact IT manager !!!\", {\n        autoClose: 1200,\n      });\n      // return Promise.reject(`Internal Server Error. Contact IT manager !!!`);\n    }\n    if (error.response?.status === 404) {\n      toast.error(\"Page Not Found !!!!!\", { autoClose: 1200 });\n    }\n    //unauthorized user\n    if (\n      error.response?.status === 401 ||\n      error.message === \"Invalid token specified\"\n    ) {\n      store.dispatch({ type: authConstants.AUTH_ERROR });\n      // toast.error(\"Unauthorized User\", { autoClose: 1200 });\n\n      return Promise.reject(error.response.data.detail);\n    }\n    //error between 400\n    const expectedError =\n      error.response &&\n      error.response.status >= 400 &&\n      error.response.status < 500;\n    if (expectedError) {\n      if (error.response.data.detail) {\n        return Promise.reject(`${error.response.data.detail}`);\n      } else {\n        return Promise.reject(`${error.response.statusText}`);\n      }\n    }\n    return Promise.reject(error);\n  }\n);\nexport default axiosInstance;\n"],"names":["toast","errorFunction","error","errorMessage","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","successFunction","data","successMessage","infoFunction","infoMessage","src","spinner","alt","height","props","className","children","history","useHistory","loadingReset","useSelector","state","auth","dispatch","useDispatch","useState","type","setType","type1","setType1","validationSchema","Yup","shape","password","required","matches","confirm_password","oneOf","handleClick","handleClick1","initialValues","onSubmit","values","token","match","params","confirmPassword","formik","autoComplete","htmlFor","style","name","placeholder","onClick","component","TextError","disabled","login","body","axiosInstance","resetPassword","changePassword","updateSignature","loadingAction","authConstants","loginSuccessAction","payload","resetSuccessAction","changePasswordSuccessAction","response","username","action","API","user","console","log","email","JSON","stringify","push","old_password","signature","signatureUpdating","printerAxiosInstance","axios","baseURL","process","headers","interceptors","request","use","config","window","navigator","onLine","localStorage","getItem","Promise","reject","res","originalRequest","status","url","store","code","_retry","refresh","removeItem","post","setItem","access","message","detail","statusText"],"sourceRoot":""}