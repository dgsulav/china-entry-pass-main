{"version":3,"file":"static/js/4412.203ef15b.chunk.js","mappings":"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","sources":["Component/ReportModal/ReprintCard/PDFReportModal.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport jsPDF from \"jspdf\";\nimport autoTable from \"jspdf-autotable\";\nimport logo from \"../../../assets/nepal-government.png\";\n\nconst cambria =\n  require(\"../../../assets/Fonts/Cambria-Font-For-Windows.ttf\").default;\n\nconst PDFReportModal = ({ formData }) => {\n  const { status } = formData;\n\n  const organization = useSelector(\n    (state) => state.organizationSetup.organization\n  );\n  const reprintReports = useSelector((state) => state.report.reprintReports);\n  const userName = useSelector((state) => state.auth.username);\n\n  useEffect(() => {\n    if (reprintReports.length > 0) {\n      const { address, phoneNo } = organization;\n\n      const unit = \"mm\";\n      const size = \"A4\"; // Use A1, A2, A3 or A4\n      const orientation = \"portrait\";\n      const doc = new jsPDF(orientation, unit, size);\n      //\n      const currentDate = `Printed Date/Time: ${new Date().toLocaleString(\n        \"ja-JP\"\n      )}`;\n      const cardTitle = \"New Card Report\";\n      const cardType = `Card Type: ${status ? status : \"N/A\"}`;\n      const printedBy = `Printed By: ${userName}`;\n\n      const title = `Department Of Immigration`;\n      const footer =\n        \"This is computer genereated report no need of seal and verification\";\n\n      const table = document.getElementById(\"table\");\n      const totalPagesExp = \"{total_pages_count_string}\";\n      autoTable(doc, {\n        theme: \"grid\",\n        html: table,\n        styles: { textColor: [0, 0, 0], lineWidth: 0.1, fontSize: 7 },\n        columnStyles: {\n          0: { halign: \"center\" },\n        },\n        headStyles: {\n          fillColor: [255, 255, 255],\n        },\n        startY: 60,\n        didDrawPage: function (data) {\n          //   doc.setLineWidth(0, 160);\n          doc.setFont(cambria, \"normal\");\n\n          doc.setFontSize(11);\n          if (data.pageNumber === 1) {\n            doc.setFontSize(11);\n            const pageWidth = doc.internal.pageSize.getWidth();\n            const logoWidth = 26;\n            const cardTitleWidth = doc.getTextWidth(cardTitle); // Get the width of your text\n            const titleWidth = doc.getTextWidth(title);\n            const addressWidth = doc.getTextWidth(address);\n            const phoneNoWidth = doc.getTextWidth(\n              phoneNo ? phoneNo : \"+977-01-4429659, 4429660\"\n            );\n            const formTitleWidth = doc.getTextWidth(\n              \"Nepal-China Entry/Exit Pass Application Form\"\n            );\n\n            // Calculate the x-coordinate to center the text\n            const cardTitleX = (pageWidth - cardTitleWidth) / 2;\n            const logoX = (pageWidth - logoWidth) / 2;\n            const titleX = (pageWidth - titleWidth) / 2;\n            const addressX = (pageWidth - addressWidth) / 2;\n            const phoneNoX = (pageWidth - phoneNoWidth) / 2;\n            const formTitleX = (pageWidth - formTitleWidth) / 2;\n            let yPos = 22;\n            if (logo) {\n              doc.addImage(logo, \"PNG\", logoX, 2, 20, 0);\n            }\n\n            doc.setFontSize(10);\n            doc.text(title, titleX, yPos);\n            yPos = yPos + 5;\n            doc.text(address, addressX, yPos);\n            yPos = yPos + 5;\n            doc.text(\n              phoneNo ? phoneNo : \"+977-01-4429659, 4429660\",\n              phoneNoX,\n              yPos\n            );\n            yPos = yPos + 5;\n            doc.text(\n              \"Nepal-China Entry/Exit Pass Application Form\",\n              formTitleX,\n              yPos\n            );\n            yPos = yPos + 5;\n            doc.setFontSize(8);\n            doc.setTextColor(\"#OOOOO\");\n            doc.text(currentDate, 140, yPos);\n            yPos = yPos + 5;\n            doc.text(cardType, 140, yPos);\n            yPos = yPos + 5;\n            doc.text(printedBy, 140, yPos);\n            yPos = yPos + 5;\n            doc.setFontSize(10);\n            doc.text(cardTitle, cardTitleX, yPos);\n          }\n\n          if (typeof doc.putTotalPages === \"function\") {\n            doc.putTotalPages(totalPagesExp);\n          }\n\n          if (data.pageNumber === 1) {\n            // doc.setFontSize(15);\n            doc.setFont(cambria, \"normal\");\n            doc.text(\"title\", 320, 42);\n          }\n          // footer\n          let str = \"Page \" + doc.internal.getNumberOfPages();\n          // Total page number plugin only available in jspdf v1.0+\n          if (typeof doc.putTotalPages === \"function\") {\n            str = str + \" of \" + totalPagesExp;\n          }\n\n          const pageSize = doc.internal.pageSize;\n          const pageHeight = pageSize.height\n            ? pageSize.height\n            : pageSize.getHeight();\n          doc.setFont(cambria, \"normal\");\n          doc.setFontSize(9);\n          doc.setTextColor(\"#000000\");\n          // data.settings.margin.left\n          doc.text(str, 18, pageHeight - 10);\n        },\n\n        didParseCell: function (data) {\n          // let rows = data.table.body;\n          if (\n            data.section === \"body\" &&\n            data.row.index === reprintReports?.length\n          ) {\n            data.cell.styles.fontStyle = \"bold\";\n          }\n        },\n        // margin: { top: 10 },\n      });\n\n      const pageWidth = doc.internal.pageSize.getWidth();\n      const pageSize = doc.internal.pageSize;\n      const pageHeight = pageSize.height\n        ? pageSize.height\n        : pageSize.getHeight();\n\n      if (typeof doc.putTotalPages === \"function\") {\n        doc.putTotalPages(totalPagesExp);\n      }\n      doc.setFontSize(8);\n      doc.setFont(cambria, \"normal\");\n      const footerWidth = doc.getTextWidth(footer);\n      const textFooter = (pageWidth - footerWidth) / 2;\n\n      doc.text(footer, textFooter, pageHeight - 6);\n\n      doc.setProperties({\n        title: \"Renew Entry/Exit Pass Report\",\n      });\n      window.open(doc.output(\"bloburl\"), \"_blank\");\n    }\n  }, [reprintReports]);\n\n  return (\n    <div>\n      <table id=\"table\" style={{ display: \"none\" }}>\n        <thead>\n          <tr>\n            <th>S.N.</th>\n            <th>Name</th>\n            <th>Mobile No.</th>\n            <th>Citizenship No.</th>\n            <th>Gender</th>\n            <th>Card No.</th>\n            <th>Application Type</th>\n            <th>Office Type</th>\n            <th>Applied From</th>\n          </tr>\n        </thead>\n        <tbody>\n          {reprintReports?.length > 0\n            ? reprintReports.map((value, i) => {\n                const {\n                  fullName,\n                  citizenshipNumber,\n                  gender,\n                  mobileNumber,\n                  cardNumber,\n                  applicationType,\n                  office,\n                } = value;\n                return (\n                  <tr key={i}>\n                    <td>{i + 1}</td>\n                    <td>{fullName}</td>\n                    <td>{mobileNumber}</td>\n                    <td>{citizenshipNumber ? citizenshipNumber : \"N/A\"}</td>\n                    <td>\n                      {gender === \"M\"\n                        ? \"MALE\"\n                        : gender === \"F\"\n                        ? \"FEMALE\"\n                        : \"OTHER\"}\n                    </td>\n                    <td>{cardNumber ? cardNumber : \"-\"}</td>\n                    <td>{applicationType}</td>\n                    <td>{office ? office?.officeType : \"-\"}</td>\n                    <td>{office ? office?.palika?.name : \"-\"}</td>\n                  </tr>\n                );\n              })\n            : \"\"}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default PDFReportModal;\n"],"names":["cambria","require","status","formData","organization","useSelector","state","organizationSetup","reprintReports","report","userName","auth","username","useEffect","length","address","phoneNo","doc","jsPDF","currentDate","Date","toLocaleString","cardTitle","cardType","printedBy","title","footer","table","document","getElementById","totalPagesExp","autoTable","theme","html","styles","textColor","lineWidth","fontSize","columnStyles","halign","headStyles","fillColor","startY","didDrawPage","data","setFont","setFontSize","pageNumber","pageWidth","internal","pageSize","getWidth","cardTitleX","getTextWidth","logoX","titleX","addressX","phoneNoX","formTitleX","yPos","logo","addImage","text","setTextColor","putTotalPages","str","getNumberOfPages","pageHeight","height","getHeight","didParseCell","section","row","index","cell","fontStyle","textFooter","setProperties","window","open","output","id","style","display","map","value","i","fullName","citizenshipNumber","gender","mobileNumber","cardNumber","applicationType","office","officeType","palika","name"],"sourceRoot":""}