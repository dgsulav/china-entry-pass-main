"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[2409],{29801:function(t,e,n){n.d(e,{Mn:function(){return a},My:function(){return o},W2:function(){return c}});var r=n(30577);r.Am.configure();var a=function(t){var e="string"===typeof t?t:"error";r.Am.error(e,{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},o=function(t){var e="string"===typeof t?t:"success";r.Am.success(e,{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},c=function(t){var e="string"===typeof t?t:"success";r.Am.info(e,{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},2557:function(t,e,n){n(72791);var r=n(16587),a=n(98158),o=n(80184);e.Z=function(t){var e=t.type,n=t.className,c=t.disabled,i=t.title,u=t.loading,s=t.content,p=t.color,f=t.onClick;return(0,o.jsx)(a.Z,{content:s,children:(0,o.jsx)("button",{onClick:f,type:e,className:n,disabled:c,children:u?(0,o.jsx)(r.Z,{color:p}):i})})}},25922:function(t,e,n){n.d(e,{EQ:function(){return o},ir:function(){return r},mt:function(){return c},od:function(){return a}});var r=[{id:"immigration",name:"Immigration Office"},{id:"dao",name:"District Administration Office"}],a=[{id:"m",name:"Male"},{id:"f",name:"Female"},{id:"o",name:"Other"}],o=[{id:"pending",name:"PENDING"},{id:"verified",name:"VERIFIED"},{id:"rejected",name:"REJECTED"},{id:"approved",name:"APPROVED"},{id:"printed",name:"PRINTED"}],c=[{id:"pending",name:"PENDING"},{id:"approved",name:"APPROVED"},{id:"printed",name:"PRINTED"}]},16587:function(t,e,n){n(72791);var r=n(32328),a=n(80184);e.Z=function(){return(0,a.jsx)("img",{src:r,alt:"spinner",height:"50px"})}},94924:function(t,e,n){n.d(e,{Z:function(){return a}});n(72791);var r=n(80184),a=function(t){return(0,r.jsx)("div",{className:"error",children:t.children})}},98158:function(t,e,n){n(72791);var r=n(36652),a=n(80184);e.Z=function(t){var e=t.content,n=t.children;return(0,a.jsx)(r.ZP,{content:e,children:n})}},3777:function(t,e,n){n.d(e,{h:function(){return i}});var r=n(15861),a=n(64687),o=n.n(a),c=n(89731),i=function(){var t=(0,r.Z)(o().mark((function t(e,n,r){var a,i,u,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.limit,i=r.offset,t.next=3,(0,c.ZP)("/api/v1/core-app/office-setup/list?search=".concat(e,"&offset=").concat(i,"&limit=").concat(a));case 3:return u=t.sent,s=u.data,t.abrupt("return",{options:s.data,hasMore:s.count>a,additional:{offset:a,limit:a+10}});case 6:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},58284:function(t,e,n){n.d(e,{Qm:function(){return y},Xu:function(){return g},RP:function(){return h},o1:function(){return _},Ob:function(){return x},sA:function(){return E}});var r=n(15861),a=n(64687),o=n.n(a),c=n(89731),i=function(t){return c.ZP.post("api/v1/core-app/org-rule",t)},u=function(t,e){return c.ZP.patch("api/v1/core-app/org-rule/".concat(t),e)},s=function(t,e){return c.ZP.get("api/v1/core-app/org-rule?offset=0&limit=".concat(e,"&search=").concat(t))},p=n(36406),f=function(){return{type:p.E.LOADING_ORGANIZATION_SETUP}},d=function(t){return{type:p.E.GET_ORGANIZATION_SETUP_SUCCESS,payload:t}},l=function(t){return{type:p.E.GET_ORGANIZATION_SETUP_FAIL,payload:t}},v=function(t){return{type:p.E.GET_ORGANIZATION_SUCCESS,payload:t}},m=n(29801),h=function(){return function(){var t=(0,r.Z)(o().mark((function t(e){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e(f()),t.next=4,c.ZP.get("api/v1/core-app/org-rule?offset=0&limit=0&ordering=-id");case 4:n=t.sent,r=n.data,e(d(r)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),e(l(t.t0)),(0,m.Mn)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},g=function(){return function(){var t=(0,r.Z)(o().mark((function t(e){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e({type:p.E.LOADING_ORGANIZATION}),t.next=4,c.ZP.get("api/v1/core-app/organization-setup/list?limit=0");case 4:n=t.sent,r=n.data,e(v(r)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),e((a=t.t0,{type:p.E.GET_ORGANIZATION_FAIL,payload:a})),(0,m.Mn)(t.t0);case 13:case"end":return t.stop()}var a}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},y=function(t){return function(){var e=(0,r.Z)(o().mark((function e(n){var r,a,c,u,s,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.canMinorApply,a=t.newCardValidityYear,c=t.otherLettersRequired,u=t.recommendationRequired,s=t.renewCardValidityYear,e.prev=1,(d=new FormData).append("canMinorApply",r),d.append("newCardValidityYear",a),d.append("otherLettersRequired",c),d.append("recommendationRequired",u),d.append("renewCardValidityYear",s),n(f()),e.next=11,i(d);case 11:return(0,m.My)("Organization Setup created successfully "),n(h(10)),e.abrupt("return",!0);case 16:e.prev=16,e.t0=e.catch(1),n((o=e.t0,{type:p.E.CREATE_ORGANIZATION_SETUP_FAIL,payload:o})),(0,m.Mn)("Failed to create Organization Setup.");case 20:case"end":return e.stop()}var o}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}()},E=function(t){return function(){var e=(0,r.Z)(o().mark((function e(n){var r,a,c,i,s,d,l,v,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,a=t.values,c=a.canMinorApply,i=a.newCardValidityYear,s=a.otherLettersRequired,d=a.recommendationRequired,l=a.renewCardValidityYear,e.prev=2,n({type:p.E.LOADING_UPDATED}),(v=new FormData).append("canMinorApply",c),v.append("newCardValidityYear",i),v.append("otherLettersRequired",s),v.append("recommendationRequired",d),v.append("renewCardValidityYear",l),n(f()),e.next=13,u(r,v);case 13:return g=e.sent,g.data,n(h(10)),(0,m.My)("Organization Setup Updated Successfully "),e.abrupt("return",!0);case 20:e.prev=20,e.t0=e.catch(2),n((o=e.t0,{type:p.E.UPDATE_ORGANIZATION_SETUP_FAIL,payload:o})),(0,m.Mn)("Failed to Update Organization Setup");case 24:case"end":return e.stop()}var o}),e,null,[[2,20]])})));return function(t){return e.apply(this,arguments)}}()},_=function(t,e){return function(){var n=(0,r.Z)(o().mark((function n(r){var a,c;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(f()),n.next=4,s(t,e);case 4:a=n.sent,c=a.data,r(d(c)),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),r(l(n.t0)),(0,m.Mn)(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(t){return n.apply(this,arguments)}}()},x=function(){return function(){var t=(0,r.Z)(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e({type:p.E.CLEAR_ALL_DATA}),t.abrupt("return",!0);case 5:t.prev=5,t.t0=t.catch(0);case 7:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()}},48963:function(t,e,n){n.d(e,{es:function(){return T},hx:function(){return N},Yd:function(){return A},nT:function(){return R},VB:function(){return b},Y8:function(){return D},yk:function(){return Z},gj:function(){return O},QX:function(){return S},N3:function(){return I}});var r=n(15861),a=n(64687),o=n.n(a),c=n(89731),i="api/v1/application/entry-pass-list-reports",u=function(t){var e=t.formatedStartDate,n=t.formatedEndDate,r=t.office,a=t.status;t.postsPerPage;return c.ZP.get("".concat(i,"?limit=0&office=").concat(r,"&status=").concat(a,"&date_after=").concat(e,"&date_before=").concat(n,"&ordering=card_no&application_type=new"))},s=function(t){return c.ZP.get(t)},p=function(t){return c.ZP.get(t)},f=function(t,e,n,r,a,o){return c.ZP.get("".concat(i,"?offset=").concat((t-1)*e,"&limit=").concat(e,"&office=").concat(n,"&status=").concat(r,"&date_after=").concat(a,"&date_before=").concat(o,"&application_type=new"))},d=function(t){var e=t.formatedStartDate,n=t.formatedEndDate,r=t.office,a=t.status;return c.ZP.get("".concat(i,"?office=").concat(r,"&status=").concat(a,"&date_after=").concat(e,"&date_before=").concat(n,"&limit=0&ordering=card_no&application_type=new"))},l=function(t){var e=t.formatedStartDate,n=t.formatedEndDate,r=t.office,a=t.status;t.postsPerPage;return c.ZP.get("".concat(i,"?limit=0&office=").concat(r,"&status=").concat(a,"&date_after=").concat(e,"&date_before=").concat(n,"&ordering=card_no&application_type=reprint"))},v=function(t){return c.ZP.get(t)},m=function(t){return c.ZP.get(t)},h=function(t,e,n,r,a,o){return c.ZP.get("".concat(i,"?offset=").concat((t-1)*e,"&limit=").concat(e,"&office=").concat(n,"&status=").concat(r,"&date_after=").concat(a,"&date_before=").concat(o,"&application_type=reprint"))},g=function(t){var e=t.formatedStartDate,n=t.formatedEndDate,r=t.office,a=t.status;return c.ZP.get("".concat(i,"?office=").concat(r,"&status=").concat(a,"&date_after=").concat(e,"&date_before=").concat(n,"&limit=0&ordering=card_no&application_type=reprint"))},y=n(59990),E=function(){return{type:y.L.LOADING_REPORT}},_=function(t){return{type:y.L.GET_NEW_CARD_REPORT_SUCCESS,payload:t}},x=function(t){return{type:y.L.GET_NEW_CARD_REPORT_FAIL,payload:t}},P=function(t){return{type:y.L.GET_REPRINT_REPORT_SUCCESS,payload:t}},k=function(t){return{type:y.L.GET_REPRINT_REPORT_FAIL,payload:t}},w=n(29801),A=function(t,e){return function(){var n=(0,r.Z)(o().mark((function n(r){var a,c,i,s,p,f,d;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.formatedStartDate,c=e.formatedEndDate,i=e.office,s=e.status,n.prev=1,r(E()),n.next=5,u({formatedStartDate:a,formatedEndDate:c,office:i,status:s,postsPerPage:t});case 5:f=n.sent,!(null!==(d=f.data)&&void 0!==d&&null!==(p=d.data)&&void 0!==p&&p.length)>0&&(0,w.W2)("Data Not found"),r(_(d)),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),r(x(n.t0)),(0,w.Mn)(n.t0);case 15:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(t){return n.apply(this,arguments)}}()},D=function(t){return function(){var e=(0,r.Z)(o().mark((function e(n){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(E()),e.next=4,s(t);case 4:r=e.sent,a=r.data,n(_(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n(x(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},R=function(t){return function(){var e=(0,r.Z)(o().mark((function e(n){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(E()),e.next=4,p(t);case 4:r=e.sent,a=r.data,n(_(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n(x(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},b=function(t){var e=t.number,n=t.postsPerPage,a=t.formatedStartDate,c=t.formatedEndDate,i=t.office,u=t.status;return function(){var t=(0,r.Z)(o().mark((function t(r){var s,p;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(E()),t.next=4,f(e,n,a,c,i,u);case 4:s=t.sent,p=s.data,r(_(p)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r(x(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},T=function(t){return function(){var e=(0,r.Z)(o().mark((function e(n){var r,a,c,i,u,s,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.formatedStartDate,a=t.formatedEndDate,c=t.office,i=t.status,e.prev=1,n(E()),e.next=5,d({formatedStartDate:r,formatedEndDate:a,office:c,status:i});case 5:s=e.sent,!(null!==(p=s.data)&&void 0!==p&&null!==(u=p.data)&&void 0!==u&&u.length)>0&&(0,w.W2)("Data Not found"),n(_(p)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n(x(e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()},Z=function(t,e){return function(){var n=(0,r.Z)(o().mark((function n(r){var a,c,i,u,s,p,f;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.formatedStartDate,c=e.formatedEndDate,i=e.office,u=e.status,n.prev=1,r(E()),n.next=5,l({formatedStartDate:a,formatedEndDate:c,office:i,status:u,postsPerPage:t});case 5:p=n.sent,!(null!==(f=p.data)&&void 0!==f&&null!==(s=f.data)&&void 0!==s&&s.length)>0&&(0,w.W2)("Data Not found"),r(P(f)),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),r(k(n.t0)),(0,w.Mn)(n.t0);case 15:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(t){return n.apply(this,arguments)}}()},I=function(t){return function(){var e=(0,r.Z)(o().mark((function e(n){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(E()),e.next=4,v(t);case 4:r=e.sent,a=r.data,n(P(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n(k(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},O=function(t){return function(){var e=(0,r.Z)(o().mark((function e(n){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(E()),e.next=4,m(t);case 4:r=e.sent,a=r.data,n(P(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n(k(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},S=function(t){var e=t.number,n=t.postsPerPage,a=t.formatedStartDate,c=t.formatedEndDate,i=t.office,u=t.status;return function(){var t=(0,r.Z)(o().mark((function t(r){var s,p;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(E()),t.next=4,h(e,n,a,c,i,u);case 4:s=t.sent,p=s.data,r(P(p)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r(k(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},N=function(t){return function(){var e=(0,r.Z)(o().mark((function e(n){var r,a,c,i,u,s,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.formatedStartDate,a=t.formatedEndDate,c=t.office,i=t.status,e.prev=1,n(E()),e.next=5,g({formatedStartDate:r,formatedEndDate:a,office:c,status:i});case 5:s=e.sent,!(null!==(p=s.data)&&void 0!==p&&null!==(u=p.data)&&void 0!==u&&u.length)>0&&(0,w.W2)("Data Not found"),n(P(p)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n(k(e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()}},89731:function(t,e,n){n.d(e,{Yb:function(){return f}});var r=n(15861),a=n(64687),o=n.n(a),c=n(74569),i=n.n(c),u=n(90106),s=n(48044),p=n(30577),f=(i().create({baseURL:"http://chinapass.sushiloli.com.np"}),i().create({baseURL:"http://localhost:9010",headers:{"Content-Type":"application/json"}})),d=i().create({baseURL:"http://chinapass.sushiloli.com.np",headers:{"Content-Type":"application/json"}});d.interceptors.request.use((function(t){if(window.navigator.onLine)return t.headers.Authorization=localStorage.getItem("accessToken")?"Bearer ".concat(localStorage.getItem("accessToken")):null,t.baseURL="http://chinapass.sushiloli.com.np",t}),(function(t){return Promise.reject(t)})),d.interceptors.response.use((function(t){return t}),function(){var t=(0,r.Z)(o().mark((function t(e){var n,r,a,c,i,f,l;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.config,401===e.response.status&&"auth/token/refresh"===i.url&&u.h.dispatch({type:s.w.AUTH_ERROR}),"token_not_valid"!==(null===(n=e.response)||void 0===n?void 0:n.data.code)||i._retry){t.next=19;break}return i._retry=!0,t.prev=4,f=JSON.stringify({refresh:localStorage.getItem("refreshToken")}),localStorage.removeItem("accessToken"),t.next=9,d.post("auth/token/refresh",f);case 9:if(200!==(l=t.sent).status){t.next=14;break}return localStorage.setItem("accessToken",null===l||void 0===l?void 0:l.data.access),i.headers.Authorization="Bearer ".concat(null===l||void 0===l?void 0:l.data.access),t.abrupt("return",d(i));case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(4),u.h.dispatch({type:s.w.AUTH_ERROR});case 19:if("No Internet"===e&&p.Am.error("No Internet Connection !!!"),"Network Error"===e.message&&p.Am.error("Internal Server Error. Contact IT manager !!!",{autoClose:1200}),500===(null===(r=e.response)||void 0===r?void 0:r.status)&&p.Am.error("Internal Server Error. Contact IT manager !!!",{autoClose:1200}),404===(null===(a=e.response)||void 0===a?void 0:a.status)&&p.Am.error("Page Not Found !!!!!",{autoClose:1200}),401!==(null===(c=e.response)||void 0===c?void 0:c.status)&&"Invalid token specified"!==e.message){t.next=26;break}return u.h.dispatch({type:s.w.AUTH_ERROR}),t.abrupt("return",Promise.reject(e.response.data.detail));case 26:if(!(e.response&&e.response.status>=400&&e.response.status<500)){t.next=33;break}if(!e.response.data.detail){t.next=32;break}return t.abrupt("return",Promise.reject("".concat(e.response.data.detail)));case 32:return t.abrupt("return",Promise.reject("".concat(e.response.statusText)));case 33:return t.abrupt("return",Promise.reject(e));case 34:case"end":return t.stop()}}),t,null,[[4,16]])})));return function(e){return t.apply(this,arguments)}}()),e.ZP=d},2664:function(t,e,n){n.d(e,{P:function(){return r}});var r=function(t){if(t)return Intl.DateTimeFormat("fr-CA",{day:"2-digit",month:"2-digit",year:"numeric"}).format(t)}},32328:function(t,e,n){t.exports=n.p+"static/media/spinner.9012f56ae4662e1be3c6.gif"}}]);
//# sourceMappingURL=2409.db61be7c.chunk.js.map